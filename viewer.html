<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>大会結果速報</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      body {
        font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
        margin: 2em;
        background-color: #fff8fa; /* 背景をほんのりピンクに */
        color: #5d4037; /* 文字色をダークブラウンに */
      }
      h1, h3, h4 {
        margin-top: 0;
        color: #d81b60; /* 見出しの色を濃いピンクに */
      }
      .container { display: block; }
      .ranking-section {
        border: 1px solid #f8bbd0; /* 枠線の色をピンクに */
        border-radius: 12px; /* 角をより丸く */
        padding: 1.5em;
        background-color: #fff;
        box-shadow: 0 4px 12px rgba(0,0,0,0.05); /* 影をつけて立体感を出す */
      }
      table { border-collapse: collapse; width: 100%; }
      th, td { border: 1px solid #ddd; padding: 8px; text-align: left; font-size: 0.9em; }
      th { background-color: #fce4ec; } /* テーブルヘッダーの背景を薄いピンクに */
      tbody tr:nth-child(even) { background-color: #fff8fa; } /* しま模様を追加 */
      .controls { display: flex; align-items: center; gap: 2em; margin-bottom: 2em; flex-wrap: wrap; }
      .tabs { display: flex; gap: 4px; }
      .tabs button {
        padding: 8px 16px; cursor: pointer; border: 1px solid #f8bbd0; background-color: #fce4ec; border-radius: 8px 8px 0 0; font-size: 1em; transition: all 0.2s ease;
      }
      .tabs button.active { background-color: #fff; border-bottom-color: #fff; font-weight: bold; color: #d81b60; }
      .tab-content, .event-rank-wrapper > div { display: none; }
      .tab-content.active, .event-rank-wrapper > div.active { display: block; }
      select { padding: 8px; border-radius: 6px; border: 1px solid #f8bbd0; font-size: 1em; }
    </style>
</head>
<body>

    <h1>
        <span id="competitionName">大会結果速報</span>
        <span id="lastUpdated" style="color: #888; font-size: 0.6em; font-weight: normal; margin-left: 1em;"></span>
    </h1>

    <div class="controls">
        <div class="tabs" id="classTabs">
            <button data-class="C" class="active">Cクラス</button>
            <button data-class="B">Bクラス</button>
            <button data-class="A">Aクラス</button>
        </div>
        <div class="selector">
            <label for="rankingTypeSelect">ランキング表示: </label>
            <select id="rankingTypeSelect">
                <option value="total">総合得点</option>
                <option value="floor">床</option>
                <option value="vault">跳馬</option>
                <option value="bars">段違い平行棒</option>
                <option value="beam">平均台</option>
            </select>
        </div>
    </div>

    <div class="container">
        <!-- クラス別 総合得点ランキング -->
        <div id="totalRankingSection" class="ranking-section active">
            <div id="totalRankContent_C" class="tab-content active">
                <h3>Cクラス 総合得点ランキング</h3>
                <table id="classC_playersTable">
                    <thead><tr><th>順位</th><th>名前</th><th>合計</th></tr></thead>
                    <tbody></tbody>
                </table>
            </div>
            <div id="totalRankContent_B" class="tab-content">
                <h3>Bクラス 総合得点ランキング</h3>
                <table id="classB_playersTable">
                    <thead><tr><th>順位</th><th>名前</th><th>合計</th></tr></thead>
                    <tbody></tbody>
                </table>
            </div>
            <div id="totalRankContent_A" class="tab-content">
                 <h3>Aクラス 総合得点ランキング</h3>
                 <table id="classA_playersTable">
                    <thead><tr><th>順位</th><th>名前</th><th>合計</th></tr></thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <!-- 種目別ランキング -->
        <div id="eventRankingSection" class="ranking-section">
            <div id="eventRankContent_C" class="tab-content active event-rank-wrapper">
                <div data-event="floor" class="active"><h3>Cクラス - 床 ランキング</h3><table><thead><tr><th>順位</th><th>名前</th><th>得点</th></tr></thead><tbody></tbody></table></div>
                <div data-event="vault"><h3>Cクラス - 跳馬 ランキング</h3><table><thead><tr><th>順位</th><th>名前</th><th>得点</th></tr></thead><tbody></tbody></table></div>
                <div data-event="bars"><h3>Cクラス - 段違い平行棒 ランキング</h3><table><thead><tr><th>順位</th><th>名前</th><th>得点</th></tr></thead><tbody></tbody></table></div>
                <div data-event="beam"><h3>Cクラス - 平均台 ランキング</h3><table><thead><tr><th>順位</th><th>名前</th><th>得点</th></tr></thead><tbody></tbody></table></div>
            </div>
            <div id="eventRankContent_B" class="tab-content event-rank-wrapper">
                <div data-event="floor" class="active"><h3>Bクラス - 床 ランキング</h3><table><thead><tr><th>順位</th><th>名前</th><th>得点</th></tr></thead><tbody></tbody></table></div>
                <div data-event="vault"><h3>Bクラス - 跳馬 ランキング</h3><table><thead><tr><th>順位</th><th>名前</th><th>得点</th></tr></thead><tbody></tbody></table></div>
                <div data-event="bars"><h3>Bクラス - 段違い平行棒 ランキング</h3><table><thead><tr><th>順位</th><th>名前</th><th>得点</th></tr></thead><tbody></tbody></table></div>
                <div data-event="beam"><h3>Bクラス - 平均台 ランキング</h3><table><thead><tr><th>順位</th><th>名前</th><th>得点</th></tr></thead><tbody></tbody></table></div>
            </div>
            <div id="eventRankContent_A" class="tab-content event-rank-wrapper">
                <div data-event="floor" class="active"><h3>Aクラス - 床 ランキング</h3><table><thead><tr><th>順位</th><th>名前</th><th>得点</th></tr></thead><tbody></tbody></table></div>
                <div data-event="vault"><h3>Aクラス - 跳馬 ランキング</h3><table><thead><tr><th>順位</th><th>名前</th><th>得点</th></tr></thead><tbody></tbody></table></div>
                <div data-event="bars"><h3>Aクラス - 段違い平行棒 ランキング</h3><table><thead><tr><th>順位</th><th>名前</th><th>得点</th></tr></thead><tbody></tbody></table></div>
                <div data-event="beam"><h3>Aクラス - 平均台 ランキング</h3><table><thead><tr><th>順位</th><th>名前</th><th>得点</th></tr></thead><tbody></tbody></table></div>
            </div>
        </div>
    </div>

    <!-- サーバーと通信するためのライブラリを読み込み -->
    <!-- ローカルファイルとして開いても動作するように、CDNからライブラリを読み込みます -->
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    <!-- 保護者ページ専用のJavaScriptファイルを読み込み -->
    <script src="viewer.js"></script>
</body>
</html>